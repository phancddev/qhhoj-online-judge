{% extends "tabs-base.html" %}

<!--
{% macro make_tab(name, fa, url, text) %}
    <li class="tab{% if tab == name %} active{% endif %}">
        {%- if url %}<a href="{{ url }}">{% else %}<span>{% endif -%}
        <i class="tab-icon fa {{ fa }}"></i> {{ text }}
        {%- if url %}</a>{% else %}</span>{% endif -%}
    </li>
{% endmacro %}
-->

{% block custom_margin_bottom %}
{% endblock custom_margin_bottom %}

{% block tabs %}
    {% if request.organization is not defined %}
        {{ make_tab('home', 'fa-info-circle', url('organization_home', organization.slug), _('Home')) }}
        {{ make_tab('users', 'fa-university', organization.get_users_url(), _('Users')) }}
        {{ make_tab('problem-list', 'fa-puzzle-piece', url('problem_list_organization', organization.slug), _('Problems list')) }}
        {{ make_tab('contest-list', 'fa-trophy', url('contest_list_organization', organization.slug), _('Contests list')) }}
        {{ make_tab('submission-list', 'fa-list', url('submission_list_organization', organization.slug), _('Submissions')) }}
    {% endif %}
{% endblock %}

{% block below_tabs %}
    <div class="flex flex-row border-b border-gray-200 dark:border-gray-700 mb-10 justify-center items-center">
        <ul class="flex flex-wrap -mb-px text-sm font-medium text-center text-gray-500 dark:text-gray-400">
            {% if organization.is_admin(request.profile) %}
                {% if request.user.has_perm('judge.create_organization_problem') %}
                    {{ make_tab('create', 'fa-plus', url('problem_create_organization', organization.slug), _('Create new problem')) }}
                {% endif %}
                {% if request.user.has_perm('judge.create_private_contest') %}
                    {{ make_tab('create', 'fa-plus', url('contest_create_organization', organization.slug), _('Create new contest')) }}
                {% endif %}
            {% endif %}
        </ul>
    </div>
{% endblock %}